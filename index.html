<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Prompt Generator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    body {
      font-family: "Segoe UI", Arial, sans-serif;
      background: linear-gradient(135deg, #667eea, #764ba2);
      min-height: 100vh;
      margin: 0;
      padding: 16px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .container {
      background: #fff;
      max-width: 560px;
      width: 100%;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 12px 28px rgba(0,0,0,0.15);
    }

    h2 {
      text-align: center;
      margin-top: 0;
    }

    label {
      font-weight: 600;
      margin-top: 14px;
      display: block;
    }

    select, input, textarea {
      width: 100%;
      margin-top: 6px;
      padding: 10px;
      font-size: 15px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }

    textarea {
      height: 150px;
      resize: vertical;
    }

    .rules-box {
      margin-top: 12px;
      padding: 10px;
      background: #f5f6fa;
      border-radius: 8px;
    }

    .rule-item {
      display: flex;
      align-items: center;
      margin-bottom: 6px;
    }

    .rule-item input {
      margin-right: 8px;
    }

    button {
      width: 100%;
      margin-top: 16px;
      padding: 12px;
      font-size: 15px;
      font-weight: 600;
      border-radius: 8px;
      border: none;
      cursor: pointer;
    }

    .generate-btn {
      background: #667eea;
      color: #fff;
    }

    .copy-btn {
      background: #2ecc71;
      color: #fff;
    }
  </style>
</head>

<body>
<div class="container">
  <h2>AI Prompt Generator</h2>

  <label>Task Type</label>
  <select id="task" onchange="renderRules()">
    <option value="coding">Coding</option>
    <option value="json_generation">JSON Generation</option>
    <option value="image_generation">Image Generation</option>
    <option value="image_analysis">Image Analysis</option>
    <option value="drafting">Drafting</option>
    <option value="planning">Planning</option>
    <option value="analysis">Analysis</option>
    <option value="qa">Q&A / Short Answer</option>
    <option value="brainstorming">Brainstorming</option>
    <option value="summarization">Summarization</option>
  </select>

  <label>Rules</label>
  <div id="rules" class="rules-box"></div>

  <label>Describe Task</label>
  <input id="desc" placeholder="What exactly do you want?" />

  <button class="generate-btn" onclick="generate()">Generate JSON</button>

  <label>Generated Prompt JSON</label>
  <textarea id="output"></textarea>

  <button class="copy-btn" onclick="copy()">Copy to Clipboard</button>
</div>

<script>
const TASK_RULES = {
  coding: [
    "code_only",
    "no_explanations",
    "no_markdown",
    "deterministic_output"
  ],
  json_generation: [
    "valid_json_only",
    "no_extra_fields",
    "no_comments"
  ],
  image_generation: [
    "prompt_only",
    "no_analysis",
    "no_artist_names"
  ],
  image_analysis: [
    "structured_output",
    "no_speculation",
    "answer_only_asked"
  ],
  drafting: [
    "respect_tone",
    "respect_word_limit",
    "single_version"
  ],
  planning: [
    "bullet_sections",
    "no_storytelling",
    "actionable_only"
  ],
  analysis: [
    "no_essays",
    "clear_criteria",
    "explicit_decision"
  ],
  qa: [
    "short_answer",
    "no_examples",
    "no_rephrasing"
  ],
  brainstorming: [
    "fixed_number",
    "one_line_per_idea",
    "no_elaboration"
  ],
  summarization: [
    "preserve_meaning",
    "no_new_info",
    "strict_length"
  ]
};

function renderRules() {
  const task = document.getElementById("task").value;
  const rulesDiv = document.getElementById("rules");
  rulesDiv.innerHTML = "";

  TASK_RULES[task].forEach(rule => {
    const div = document.createElement("div");
    div.className = "rule-item";

    const checkbox = document.createElement("input");
    checkbox.type = "checkbox";
    checkbox.value = rule;
    checkbox.checked = true;

    const label = document.createElement("span");
    label.textContent = rule.replaceAll("_", " ");

    div.appendChild(checkbox);
    div.appendChild(label);
    rulesDiv.appendChild(div);
  });
}

function generate() {
  const task = document.getElementById("task").value;
  const rules = {};
  document.querySelectorAll("#rules input:checked").forEach(cb => {
    rules[cb.value] = true;
  });

  const data = {
    role: "system",
    task_type: task,
    rules: rules,
    user_input: document.getElementById("desc").value
  };

  document.getElementById("output").value =
    JSON.stringify(data, null, 2);
}

function copy() {
  navigator.clipboard.writeText(
    document.getElementById("output").value
  );
  alert("Copied to clipboard");
}

renderRules();
</script>
</body>
</html>
