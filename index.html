<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Prompt Generator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: "Inter", "Segoe UI", Arial, sans-serif;
      background: linear-gradient(135deg, #667eea, #764ba2);
      min-height: 100vh;
      padding: 20px;
    }

    .app {
      max-width: 1100px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    @media (max-width: 768px) {
      .app {
        grid-template-columns: 1fr;
      }
    }

    .card {
      background: #ffffff;
      border-radius: 14px;
      padding: 20px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.12);
      display: flex;
      flex-direction: column;
    }

    .card h3 {
      margin: 0 0 16px 0;
      font-size: 18px;
      color: #333;
      border-bottom: 1px solid #eee;
      padding-bottom: 8px;
    }

    label {
      font-size: 14px;
      font-weight: 600;
      color: #444;
      margin-bottom: 6px;
      display: block;
    }

    select,
    input,
    textarea {
      width: 100%;
      padding: 10px 12px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 14px;
      outline: none;
    }

    textarea {
      resize: vertical;
      min-height: 140px;
    }

    select:focus,
    input:focus,
    textarea:focus {
      border-color: #667eea;
    }

    .section {
      margin-bottom: 18px;
    }

    /* RULE CHECKBOXES */
    .rules-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 6px;
    }

    .rule {
      display: flex;
      align-items: center;
      padding: 8px 10px;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      background: #fafafa;
      cursor: pointer;
    }

    .rule input {
      margin-right: 10px;
      accent-color: #667eea;
    }

    .rule span {
      font-size: 14px;
      color: #333;
    }

    /* BUTTONS */
    .btn {
      padding: 12px;
      font-size: 15px;
      font-weight: 600;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      transition: transform 0.1s ease, box-shadow 0.1s ease;
    }

    .btn:active {
      transform: scale(0.98);
    }

    .btn-primary {
      background: #667eea;
      color: #fff;
      box-shadow: 0 6px 16px rgba(102,126,234,0.4);
    }

    .btn-success {
      background: #2ecc71;
      color: #fff;
      box-shadow: 0 6px 16px rgba(46,204,113,0.4);
    }

    .footer-note {
      margin-top: auto;
      font-size: 12px;
      color: #777;
      text-align: center;
    }
  </style>
</head>

<body>
  <div class="app">

    <!-- CARD 1 : TASK + RULES -->
    <div class="card">
      <h3>Task Configuration</h3>

      <div class="section">
        <label>Task Type</label>
        <select id="task" onchange="renderRules()">
          <option value="coding">Coding</option>
          <option value="json_generation">JSON Generation</option>
          <option value="image_generation">Image Generation</option>
          <option value="image_analysis">Image Analysis</option>
          <option value="drafting">Drafting</option>
          <option value="planning">Planning</option>
          <option value="analysis">Analysis</option>
          <option value="qa">Q&A / Short Answer</option>
          <option value="brainstorming">Brainstorming</option>
          <option value="summarization">Summarization</option>
        </select>
      </div>

      <div class="section">
        <label>Rules</label>
        <div id="rules" class="rules-list"></div>
      </div>

      <div class="footer-note">
        Rules are injected exactly as selected
      </div>
    </div>

    <!-- CARD 2 : INPUT + OUTPUT -->
    <div class="card">
      <h3>Prompt Builder</h3>

      <div class="section">
        <label>Describe Task</label>
        <input id="desc" placeholder="What exactly do you want?" />
      </div>

      <div class="section">
        <button class="btn btn-primary" onclick="generate()">Generate JSON</button>
      </div>

      <div class="section">
        <label>Generated Prompt JSON</label>
        <textarea id="output" placeholder="Generated JSON will appear here"></textarea>
      </div>

      <div class="section">
        <button class="btn btn-success" onclick="copy()">Copy to Clipboard</button>
      </div>
    </div>

  </div>

<script>
const TASK_RULES = {
  coding: [
    "code_only",
    "no_explanations",
    "no_markdown",
    "deterministic_output"
  ],
  json_generation: [
    "valid_json_only",
    "no_extra_fields",
    "no_comments"
  ],
  image_generation: [
    "prompt_only",
    "no_analysis",
    "no_artist_names"
  ],
  image_analysis: [
    "structured_output",
    "no_speculation",
    "answer_only_asked"
  ],
  drafting: [
    "respect_tone",
    "respect_word_limit",
    "single_version"
  ],
  planning: [
    "bullet_sections",
    "no_storytelling",
    "actionable_only"
  ],
  analysis: [
    "no_essays",
    "clear_criteria",
    "explicit_decision"
  ],
  qa: [
    "short_answer",
    "no_examples",
    "no_rephrasing"
  ],
  brainstorming: [
    "fixed_number",
    "one_line_per_idea",
    "no_elaboration"
  ],
  summarization: [
    "preserve_meaning",
    "no_new_info",
    "strict_length"
  ]
};

function renderRules() {
  const task = document.getElementById("task").value;
  const rulesDiv = document.getElementById("rules");
  rulesDiv.innerHTML = "";

  TASK_RULES[task].forEach(rule => {
    const label = document.createElement("label");
    label.className = "rule";

    const checkbox = document.createElement("input");
    checkbox.type = "checkbox";
    checkbox.value = rule;
    checkbox.checked = true;

    const text = document.createElement("span");
    text.textContent = rule.replaceAll("_", " ");

    label.appendChild(checkbox);
    label.appendChild(text);
    rulesDiv.appendChild(label);
  });
}

function generate() {
  const rules = {};
  document.querySelectorAll("#rules input:checked").forEach(cb => {
    rules[cb.value] = true;
  });

  const data = {
    role: "system",
    task_type: document.getElementById("task").value,
    rules: rules,
    user_input: document.getElementById("desc").value
  };

  document.getElementById("output").value =
    JSON.stringify(data, null, 2);
}

function copy() {
  navigator.clipboard.writeText(
    document.getElementById("output").value
  );
  alert("Copied to clipboard");
}

renderRules();
</script>
</body>
</html>
